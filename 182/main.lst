gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE  1


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00001 ;--------------------------------------------------------
                      00002 ; File Created by SDCC : free open source ANSI-C Compiler
                      00003 ; Version 3.6.0 #9615 (CYGWIN)
                      00004 ;--------------------------------------------------------
                      00005 ; PIC port for the 14-bit core
                      00006 ;--------------------------------------------------------
                      00007 ;       .file   "main.c"
                      00008         list    p=18p110l
                      00009         radix dec
                      00010         include "p18p110l.inc"
                      00001        LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Jun 02 2017
                      00005 ;  HCIDE HC18P235L processor include
                      00006 ; 
                      00007 ;  (c) Copyright 2012-2017 Holychip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00442         LIST
                      00011 ;--------------------------------------------------------
                      00012 ; external declarations
                      00013 ;--------------------------------------------------------
  0000                00014         extern  _inital
  0000                00015         extern  _sysinitial
  0000                00016         extern  _STATUSbits
  0000                00017         extern  _PORTAbits
  0000                00018         extern  _PORTBbits
  0000                00019         extern  _INTCONbits
  0000                00020         extern  _PIR1bits
  0000                00021         extern  _PIR2bits
  0000                00022         extern  _T1CONbits
  0000                00023         extern  _T2CONbits
  0000                00024         extern  _WPUBbits
  0000                00025         extern  _IOCBbits
  0000                00026         extern  _CCP1CONbits
  0000                00027         extern  _PR1CONbits
  0000                00028         extern  _CCP2CONbits
  0000                00029         extern  _ADCON0bits
  0000                00030         extern  _OPTIONbits
  0000                00031         extern  _TRISAbits
  0000                00032         extern  _TRISBbits
  0000                00033         extern  _ADCKCSbits
  0000                00034         extern  _PIE1bits
  0000                00035         extern  _PIE2bits
  0000                00036         extern  _PCONbits
  0000                00037         extern  _T1GCONbits
  0000                00038         extern  _OSCCONbits
  0000                00039         extern  _WPUAbits
  0000                00040         extern  _PMCONbits
  0000                00041         extern  _ANSELbits
  0000                00042         extern  _ADCON1bits
  0000                00043         extern  _INDF
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE  2


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

  0000                00044         extern  _T0
  0000                00045         extern  _PCL
  0000                00046         extern  _STATUS
  0000                00047         extern  _FSR
  0000                00048         extern  _PORTA
  0000                00049         extern  _PORTB
  0000                00050         extern  _PCLATH
  0000                00051         extern  _INTCON
  0000                00052         extern  _PIR1
  0000                00053         extern  _PIR2
  0000                00054         extern  _T1L
  0000                00055         extern  _T1H
  0000                00056         extern  _T1CON
  0000                00057         extern  _T2
  0000                00058         extern  _T2CON
  0000                00059         extern  _WPUB
  0000                00060         extern  _IOCB
  0000                00061         extern  _CCPR1L
  0000                00062         extern  _CCPR1H
  0000                00063         extern  _CCP1CON
  0000                00064         extern  _PR1L
  0000                00065         extern  _PR1CON
  0000                00066         extern  _CCPR2L
  0000                00067         extern  _CCPR2H
  0000                00068         extern  _CCP2CON
  0000                00069         extern  _ADRESH
  0000                00070         extern  _ADCON0
  0000                00071         extern  _OPTION
  0000                00072         extern  _TRISA
  0000                00073         extern  _TRISB
  0000                00074         extern  _ADCKCS
  0000                00075         extern  _PIE1
  0000                00076         extern  _PIE2
  0000                00077         extern  _PCON
  0000                00078         extern  _T1GCON
  0000                00079         extern  _OSCCON
  0000                00080         extern  _PR2
  0000                00081         extern  _WPUA
  0000                00082         extern  _PMDATL
  0000                00083         extern  _PMDATH
  0000                00084         extern  _PMADRL
  0000                00085         extern  _PMADRH
  0000                00086         extern  _PMCON
  0000                00087         extern  _ANSEL
  0000                00088         extern  _ADRESL
  0000                00089         extern  _ADCON1
  0000                00090         extern  ___sdcc_saved_fsr
  0000                00091         extern  __sdcc_gsinit_startup
                      00092 ;--------------------------------------------------------
                      00093 ; global declarations
                      00094 ;--------------------------------------------------------
  0000                00095         global  _DelayUs2x
  0000                00096         global  _DelayMs
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE  3


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

  0000                00097         global  _adc_get
  0000                00098         global  _KeyScan
  0000                00099         global  _RedFlash
  0000                00100         global  _AdjustGear
  0000                00101         global  _ChIntput
  0000                00102         global  _batt_test
  0000                00103         global  _SleepMode
  0000                00104         global  _initValue
  0000                00105         global  _main
  0000                00106         global  _Intr
  0000                00107         global  _adc_value
  0000                00108         global  _databuf
  0000                00109         global  _Time_Seep
  0000                00110         global  _Pwm1_Count
  0000                00111         global  _Pwm2_Count
  0000                00112         global  _Pwm1_Duty_Ratio
  0000                00113         global  _Pwm2_Duty_Ratio
  0000                00114         global  _Gear4_temp
  0000                00115         global  _Gear
  0000                00116         global  _time_2ms
  0000                00117         global  _Time_500MS
  0000                00118         global  _Red_Flash
  0000                00119         global  _key_press_time
  0000                00120         global  _Key_Mode
  0000                00121         global  _flag1
  0000                00122         global  _flag2
                      00123 
  0000                00124         global PSAVE
  0000                00125         global SSAVE
  0000                00126         global WSAVE
  0000                00127         global STK12
  0000                00128         global STK11
  0000                00129         global STK10
  0000                00130         global STK09
  0000                00131         global STK08
  0000                00132         global STK07
  0000                00133         global STK06
  0000                00134         global STK05
  0000                00135         global STK04
  0000                00136         global STK03
  0000                00137         global STK02
  0000                00138         global STK01
  0000                00139         global STK00
                      00140 
                      00141 sharebank udata_ovr 0x0040
0040                  00142 PSAVE   res 1
0041                  00143 SSAVE   res 1
0042                  00144 WSAVE   res 1
0043                  00145 STK12   res 1
0044                  00146 STK11   res 1
0045                  00147 STK10   res 1
0046                  00148 STK09   res 1
0047                  00149 STK08   res 1
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE  4


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

0048                  00150 STK07   res 1
0049                  00151 STK06   res 1
004A                  00152 STK05   res 1
004B                  00153 STK04   res 1
004C                  00154 STK03   res 1
004D                  00155 STK02   res 1
004E                  00156 STK01   res 1
004F                  00157 STK00   res 1
                      00158 
                      00159 ;--------------------------------------------------------
                      00160 ; global definitions
                      00161 ;--------------------------------------------------------
                      00162 UD_main_0       udata
0000                  00163 _adc_value      res     2
                      00164 
                      00165 UD_main_1       udata
0000                  00166 _databuf        res     2
                      00167 
                      00168 UD_main_2       udata
0000                  00169 _Pwm1_Count     res     1
                      00170 
                      00171 UD_main_3       udata
0000                  00172 _Pwm2_Count     res     1
                      00173 
                      00174 UD_main_4       udata
0000                  00175 _Gear4_temp     res     1
                      00176 
                      00177 UD_main_5       udata
0000                  00178 _Gear   res     1
                      00179 
                      00180 UD_main_6       udata
0000                  00181 _time_2ms       res     1
                      00182 
                      00183 UD_main_7       udata
0000                  00184 _Time_500MS     res     1
                      00185 
                      00186 UD_main_8       udata
0000                  00187 _key_press_time res     1
                      00188 
                      00189 UD_main_9       udata
0000                  00190 _Key_Mode       res     1
                      00191 
                      00192 UD_main_10      udata
0000                  00193 _flag1  res     1
                      00194 
                      00195 UD_main_11      udata
0000                  00196 _flag2  res     1
                      00197 
                      00198 ;--------------------------------------------------------
                      00199 ; absolute symbol definitions
                      00200 ;--------------------------------------------------------
                      00201 ;--------------------------------------------------------
                      00202 ; compiler-defined variables
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE  5


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00203 ;--------------------------------------------------------
                      00204 UDL_main_0      udata
0000                  00205 r0x101B res     1
0001                  00206 r0x101C res     1
0002                  00207 r0x101E res     1
0003                  00208 r0x101D res     1
0004                  00209 r0x101F res     1
0005                  00210 r0x1020 res     1
0006                  00211 r0x1021 res     1
0007                  00212 r0x1023 res     1
0008                  00213 r0x1024 res     1
0009                  00214 r0x1025 res     1
                      00215 ;--------------------------------------------------------
                      00216 ; initialized data
                      00217 ;--------------------------------------------------------
                      00218 
                      00219 ID_main_0       idata
0000                  00220 _Time_Seep
0000   00             00221         db      0x00
                      00222 
                      00223 
                      00224 ID_main_1       idata
0000                  00225 _Pwm1_Duty_Ratio
0000   00             00226         db      0x00
0001   00             00227         db      0x00
0002   10             00228         db      0x10
0003   1F             00229         db      0x1f
0004   10             00230         db      0x10
                      00231 
                      00232 
                      00233 ID_main_2       idata
0000                  00234 _Pwm2_Duty_Ratio
0000   00             00235         db      0x00
0001   00             00236         db      0x00
0002   10             00237         db      0x10
0003   1F             00238         db      0x1f
0004   25             00239         db      0x25
                      00240 
                      00241 
                      00242 ID_main_3       idata
0000                  00243 _Red_Flash
0000   00             00244         db      0x00
                      00245 
                      00246 ;--------------------------------------------------------
                      00247 ; overlayable items in internal ram 
                      00248 ;--------------------------------------------------------
                      00249 ;       udata_ovr
                      00250 ;--------------------------------------------------------
                      00251 ; reset vector 
                      00252 ;--------------------------------------------------------
                      00253 STARTUP code 0x0000
0000   0000           00254         nop
0001   2???           00255         goto    __sdcc_gsinit_startup
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE  6


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00256 ;--------------------------------------------------------
                      00257 ; interrupt and initialization code
                      00258 ;--------------------------------------------------------
                      00259 c_interrupt     code    0x0004
0004                  00260 __sdcc_interrupt:
                      00261 ;***
                      00262 ;  pBlock Stats: dbName = I
                      00263 ;***
                      00264 ;3 compiler assigned registers:
                      00265 ;   r0x1023
                      00266 ;   r0x1024
                      00267 ;   r0x1025
                      00268 ;; Starting pCode block
0004                  00269 _Intr:
                      00270 ; 0 exit points
                      00271 ;       .line   358; "main.c"   void Intr(void) __interrupt
0004   19??           00272         MOVWF   WSAVE
0005   1703           00273         SWAPF   STATUS,W
0006   1883           00274         CLRF    STATUS
0007   19??           00275         MOVWF   SSAVE
0008   110A           00276         MOVF    PCLATH,W
0009   188A           00277         CLRF    PCLATH
000A   19??           00278         MOVWF   PSAVE
000B   1104           00279         MOVF    FSR,W
000C   0???           00280         BANKSEL ___sdcc_saved_fsr
000D   19??           00281         MOVWF   ___sdcc_saved_fsr
                      00282 ;       .line   360; "main.c"   if(RBIF)
000E   0???           00283         BANKSEL _INTCONbits
000F   30??           00284         BTFSS   _INTCONbits,0
0010   2???           00285         GOTO    _00242_DS_
                      00286 ;       .line   362; "main.c"   RBIF=0;
0011   3C??           00287         BCF     _INTCONbits,0
                      00288 ;       .line   363; "main.c"   RBIE=0;
0012   3D??           00289         BCF     _INTCONbits,3
                      00290 ;       .line   364; "main.c"   PEIE=0;
0013   3F??           00291         BCF     _INTCONbits,6
0014                  00292 _00242_DS_:
                      00293 ;       .line   367; "main.c"   if(T0IF)        //30us进一次
0014   0???           00294         BANKSEL _INTCONbits
0015   31??           00295         BTFSS   _INTCONbits,2
0016   2???           00296         GOTO    _00256_DS_
                      00297 ;       .line   370; "main.c"   T0IF=0;
0017   3D??           00298         BCF     _INTCONbits,2
                      00299 ;       .line   371; "main.c"   T0=160; //T0赋初值      
0018   04A0           00300         MOVLW   0xa0
0019   19??           00301         MOVWF   _T0
                      00302 ;       .line   373; "main.c"   if(Gear==5)
001A   0???           00303         BANKSEL _Gear
001B   11??           00304         MOVF    _Gear,W
                      00305 ;       .line   374; "main.c"   Gear=0;
001C   0D05           00306         XORLW   0x05
                      00307 ;       .line   375; "main.c"   Pwm1_Count++;
001D   3503           00308         BTFSC   STATUS,2
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE  7


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

001E   18??           00309         CLRF    _Gear
001F   0???           00310         BANKSEL _Pwm1_Count
0020   13??           00311         INCF    _Pwm1_Count,F
                      00312 ;       .line   376; "main.c"   if(Pwm1_Count==PWM_FULL)
0021   11??           00313         MOVF    _Pwm1_Count,W
                      00314 ;       .line   377; "main.c"   Pwm1_Count=PWM_EMPTY;
0022   0D64           00315         XORLW   0x64
                      00316 ;       .line   378; "main.c"   if(Pwm1_Count<Pwm1_Duty_Ratio[Gear])
0023   3503           00317         BTFSC   STATUS,2
0024   18??           00318         CLRF    _Pwm1_Count
0025   0???           00319         BANKSEL _Gear
0026   11??           00320         MOVF    _Gear,W
0027   08??           00321         ADDLW   (_Pwm1_Duty_Ratio + 0)
0028   0???           00322         BANKSEL r0x1023
0029   19??           00323         MOVWF   r0x1023
002A   04??           00324         MOVLW   high (_Pwm1_Duty_Ratio + 0)
002B   3403           00325         BTFSC   STATUS,0
002C   0801           00326         ADDLW   0x01
002D   19??           00327         MOVWF   r0x1024
002E   11??           00328         MOVF    r0x1023,W
002F   3E83           00329         BANKSEL FSR
0030   1984           00330         MOVWF   FSR
0031   3F83           00331         BCF     STATUS,7
0032   0???           00332         BANKSEL r0x1024
0033   34??           00333         BTFSC   r0x1024,0
0034   3B83           00334         BSF     STATUS,7
0035   3E83           00335         BANKSEL INDF
0036   1100           00336         MOVF    INDF,W
0037   0???           00337         BANKSEL r0x1025
0038   19??           00338         MOVWF   r0x1025
0039   0???           00339         BANKSEL _Pwm1_Count
003A   1B??           00340         SUBWF   _Pwm1_Count,W
003B   3403           00341         BTFSC   STATUS,0
003C   2???           00342         GOTO    _00248_DS_
                      00343 ;;genSkipc:3257: created from rifx:0x782c64
                      00344 ;       .line   379; "main.c"   PWM1=PWM_HIGH;
003D   0???           00345         BANKSEL _PORTAbits
003E   38??           00346         BSF     _PORTAbits,0
003F   2???           00347         GOTO    _00249_DS_
0040                  00348 _00248_DS_:
                      00349 ;       .line   381; "main.c"   PWM1=PWM_LOW;
0040   0???           00350         BANKSEL _PORTAbits
0041   3C??           00351         BCF     _PORTAbits,0
0042                  00352 _00249_DS_:
                      00353 ;       .line   383; "main.c"   Pwm2_Count++;
0042   0???           00354         BANKSEL _Pwm2_Count
0043   13??           00355         INCF    _Pwm2_Count,F
                      00356 ;       .line   384; "main.c"   if(Pwm2_Count==PWM_FULL)
0044   11??           00357         MOVF    _Pwm2_Count,W
                      00358 ;       .line   385; "main.c"   Pwm2_Count=PWM_EMPTY;
0045   0D64           00359         XORLW   0x64
                      00360 ;       .line   386; "main.c"   if(Pwm2_Count<Pwm2_Duty_Ratio[Gear])
0046   3503           00361         BTFSC   STATUS,2
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE  8


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

0047   18??           00362         CLRF    _Pwm2_Count
0048   0???           00363         BANKSEL _Gear
0049   11??           00364         MOVF    _Gear,W
004A   08??           00365         ADDLW   (_Pwm2_Duty_Ratio + 0)
004B   0???           00366         BANKSEL r0x1023
004C   19??           00367         MOVWF   r0x1023
004D   04??           00368         MOVLW   high (_Pwm2_Duty_Ratio + 0)
004E   3403           00369         BTFSC   STATUS,0
004F   0801           00370         ADDLW   0x01
0050   19??           00371         MOVWF   r0x1024
0051   11??           00372         MOVF    r0x1023,W
0052   3E83           00373         BANKSEL FSR
0053   1984           00374         MOVWF   FSR
0054   3F83           00375         BCF     STATUS,7
0055   0???           00376         BANKSEL r0x1024
0056   34??           00377         BTFSC   r0x1024,0
0057   3B83           00378         BSF     STATUS,7
0058   3E83           00379         BANKSEL INDF
0059   1100           00380         MOVF    INDF,W
005A   0???           00381         BANKSEL r0x1025
005B   19??           00382         MOVWF   r0x1025
005C   0???           00383         BANKSEL _Pwm2_Count
005D   1B??           00384         SUBWF   _Pwm2_Count,W
005E   3403           00385         BTFSC   STATUS,0
005F   2???           00386         GOTO    _00253_DS_
                      00387 ;;genSkipc:3257: created from rifx:0x782c64
                      00388 ;       .line   387; "main.c"   PWM2=PWM_HIGH;
0060   0???           00389         BANKSEL _PORTBbits
0061   38??           00390         BSF     _PORTBbits,0
0062   2???           00391         GOTO    _00256_DS_
0063                  00392 _00253_DS_:
                      00393 ;       .line   389; "main.c"   PWM2=PWM_LOW;
0063   0???           00394         BANKSEL _PORTBbits
0064   3C??           00395         BCF     _PORTBbits,0
0065                  00396 _00256_DS_:
                      00397 ;       .line   393; "main.c"   if(T2IF)        //2ms进一次
0065   0???           00398         BANKSEL _PIR1bits
0066   30??           00399         BTFSS   _PIR1bits,1
0067   2???           00400         GOTO    _00277_DS_
                      00401 ;       .line   395; "main.c"   T2IF=0;
0068   3C??           00402         BCF     _PIR1bits,1
                      00403 ;       .line   396; "main.c"   time_2ms_flag=1;
0069   0???           00404         BANKSEL _flag1
006A   3B??           00405         BSF     _flag1,7
                      00406 ;       .line   397; "main.c"   time_2ms++;
006B   0???           00407         BANKSEL _time_2ms
006C   13??           00408         INCF    _time_2ms,F
                      00409 ;;unsigned compare: left < lit(0xFA=250), size=1
                      00410 ;       .line   398; "main.c"   if(time_2ms>=250)//500ms
006D   04FA           00411         MOVLW   0xfa
006E   1B??           00412         SUBWF   _time_2ms,W
006F   3003           00413         BTFSS   STATUS,0
0070   2???           00414         GOTO    _00261_DS_
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE  9


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00415 ;;genSkipc:3257: created from rifx:0x782c64
                      00416 ;       .line   400; "main.c"   time_2ms=0;
0071   18??           00417         CLRF    _time_2ms
                      00418 ;       .line   401; "main.c"   Time_500MS++;
0072   0???           00419         BANKSEL _Time_500MS
0073   13??           00420         INCF    _Time_500MS,F
                      00421 ;       .line   402; "main.c"   if(red_flash_count_flag)
0074   0???           00422         BANKSEL _flag1
0075   30??           00423         BTFSS   _flag1,0
0076   2???           00424         GOTO    _00258_DS_
                      00425 ;       .line   403; "main.c"   Red_Flash++;
0077   0???           00426         BANKSEL _Red_Flash
0078   13??           00427         INCF    _Red_Flash,F
0079   2???           00428         GOTO    _00261_DS_
007A                  00429 _00258_DS_:
                      00430 ;       .line   405; "main.c"   Red_Flash=0;
007A   0???           00431         BANKSEL _Red_Flash
007B   18??           00432         CLRF    _Red_Flash
007C                  00433 _00261_DS_:
                      00434 ;       .line   408; "main.c"   Gear4_temp++;
007C   0???           00435         BANKSEL _Gear4_temp
007D   13??           00436         INCF    _Gear4_temp,F
                      00437 ;       .line   409; "main.c"   if(Gear4_temp==196)
007E   11??           00438         MOVF    _Gear4_temp,W
                      00439 ;       .line   410; "main.c"   Gear4_temp=0;
007F   0DC4           00440         XORLW   0xc4
                      00441 ;       .line   411; "main.c"   if(Gear4_temp<170)
0080   3503           00442         BTFSC   STATUS,2
0081   18??           00443         CLRF    _Gear4_temp
0082   04AA           00444         MOVLW   0xaa
0083   1B??           00445         SUBWF   _Gear4_temp,W
0084   3403           00446         BTFSC   STATUS,0
0085   2???           00447         GOTO    _00273_DS_
                      00448 ;;genSkipc:3257: created from rifx:0x782c64
                      00449 ;;gen.c:6559: size=0, offset=0, AOP_TYPE(res)=8
                      00450 ;       .line   412; "main.c"   Pwm1_Duty_Ratio[4]=17;
0086   0411           00451         MOVLW   0x11
0087   0???           00452         BANKSEL _Pwm1_Duty_Ratio
0088   19??           00453         MOVWF   (_Pwm1_Duty_Ratio + 4)
0089   2???           00454         GOTO    _00277_DS_
                      00455 ;;unsigned compare: left < lit(0xAC=172), size=1
008A                  00456 _00273_DS_:
                      00457 ;       .line   413; "main.c"   else if(Gear4_temp<172)
008A   04AC           00458         MOVLW   0xac
008B   0???           00459         BANKSEL _Gear4_temp
008C   1B??           00460         SUBWF   _Gear4_temp,W
008D   3403           00461         BTFSC   STATUS,0
008E   2???           00462         GOTO    _00270_DS_
                      00463 ;;genSkipc:3257: created from rifx:0x782c64
                      00464 ;;gen.c:6559: size=0, offset=0, AOP_TYPE(res)=8
                      00465 ;       .line   414; "main.c"   Pwm1_Duty_Ratio[4]=31;
008F   041F           00466         MOVLW   0x1f
0090   0???           00467         BANKSEL _Pwm1_Duty_Ratio
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 10


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

0091   19??           00468         MOVWF   (_Pwm1_Duty_Ratio + 4)
0092   2???           00469         GOTO    _00277_DS_
                      00470 ;;unsigned compare: left < lit(0xC3=195), size=1
0093                  00471 _00270_DS_:
                      00472 ;       .line   415; "main.c"   else if(Gear4_temp<195)
0093   04C3           00473         MOVLW   0xc3
0094   0???           00474         BANKSEL _Gear4_temp
0095   1B??           00475         SUBWF   _Gear4_temp,W
0096   3403           00476         BTFSC   STATUS,0
0097   2???           00477         GOTO    _00267_DS_
                      00478 ;;genSkipc:3257: created from rifx:0x782c64
                      00479 ;;gen.c:6559: size=0, offset=0, AOP_TYPE(res)=8
                      00480 ;       .line   416; "main.c"   Pwm1_Duty_Ratio[4]=37;
0098   0425           00481         MOVLW   0x25
0099   0???           00482         BANKSEL _Pwm1_Duty_Ratio
009A   19??           00483         MOVWF   (_Pwm1_Duty_Ratio + 4)
009B   2???           00484         GOTO    _00277_DS_
                      00485 ;;unsigned compare: left < lit(0xC4=196), size=1
009C                  00486 _00267_DS_:
                      00487 ;       .line   417; "main.c"   else if(Gear4_temp<196)
009C   04C4           00488         MOVLW   0xc4
009D   0???           00489         BANKSEL _Gear4_temp
009E   1B??           00490         SUBWF   _Gear4_temp,W
009F   3403           00491         BTFSC   STATUS,0
00A0   2???           00492         GOTO    _00277_DS_
                      00493 ;;genSkipc:3257: created from rifx:0x782c64
                      00494 ;;gen.c:6559: size=0, offset=0, AOP_TYPE(res)=8
                      00495 ;       .line   418; "main.c"   Pwm1_Duty_Ratio[4]=21;
00A1   0415           00496         MOVLW   0x15
00A2   0???           00497         BANKSEL _Pwm1_Duty_Ratio
00A3   19??           00498         MOVWF   (_Pwm1_Duty_Ratio + 4)
00A4                  00499 _00277_DS_:
00A4   0???           00500         BANKSEL ___sdcc_saved_fsr
00A5   11??           00501         MOVF    ___sdcc_saved_fsr,W
00A6   3E83           00502         BANKSEL FSR
00A7   1984           00503         MOVWF   FSR
00A8   11??           00504         MOVF    PSAVE,W
00A9   198A           00505         MOVWF   PCLATH
00AA   1883           00506         CLRF    STATUS
00AB   17??           00507         SWAPF   SSAVE,W
00AC   1983           00508         MOVWF   STATUS
00AD   17??           00509         SWAPF   WSAVE,F
00AE   17??           00510         SWAPF   WSAVE,W
00AF                  00511 END_OF_INTERRUPT:
00AF   0001           00512         RETFIE  
                      00513 
                      00514 ;--------------------------------------------------------
                      00515 ; code
                      00516 ;--------------------------------------------------------
                      00517 code_main       code
                      00518 ;***
                      00519 ;  pBlock Stats: dbName = M
                      00520 ;***
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 11


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00521 ;has an exit
                      00522 ;functions called:
                      00523 ;   _inital
                      00524 ;   _DelayMs
                      00525 ;   _sysinitial
                      00526 ;   _initValue
                      00527 ;   _KeyScan
                      00528 ;   _AdjustGear
                      00529 ;   _batt_test
                      00530 ;   _ChIntput
                      00531 ;   _SleepMode
                      00532 ;   _inital
                      00533 ;   _DelayMs
                      00534 ;   _sysinitial
                      00535 ;   _initValue
                      00536 ;   _KeyScan
                      00537 ;   _AdjustGear
                      00538 ;   _batt_test
                      00539 ;   _ChIntput
                      00540 ;   _SleepMode
                      00541 ;1 compiler assigned register :
                      00542 ;   STK00
                      00543 ;; Starting pCode block
                      00544 S_main__main    code
0000                  00545 _main:
                      00546 ; 2 exit points
                      00547 ;       .line   332; "main.c"   inital();                               //端口初始化
0000   2???           00548         CALL    _inital
                      00549 ;       .line   333; "main.c"   DelayMs(100);                   //延时等待系统供电稳定
0001   0464           00550         MOVLW   0x64
0002   19??           00551         MOVWF   STK00
0003   0400           00552         MOVLW   0x00
0004   2???           00553         CALL    _DelayMs
                      00554 ;       .line   334; "main.c"   sysinitial();                   //系统初始化
0005   2???           00555         CALL    _sysinitial
                      00556 ;       .line   335; "main.c"   initValue();
0006   2???           00557         CALL    _initValue
                      00558 ;       .line   336; "main.c"   BattLow=0;
0007   0???           00559         BANKSEL _flag1
0008   3F??           00560         BCF     _flag1,6
                      00561 ;       .line   337; "main.c"   PWM2=PWM_HIGH;
0009   0???           00562         BANKSEL _PORTBbits
000A   38??           00563         BSF     _PORTBbits,0
                      00564 ;       .line   338; "main.c"   PWM1=PWM_LOW;
000B   3C??           00565         BCF     _PORTAbits,0
                      00566 ;       .line   339; "main.c"   GIE=1;
000C   3B??           00567         BSF     _INTCONbits,7
000D                  00568 _00236_DS_:
                      00569 ;       .line   342; "main.c"   if(time_2ms_flag)
000D   0???           00570         BANKSEL _flag1
000E   33??           00571         BTFSS   _flag1,7
000F   2???           00572         GOTO    _00236_DS_
                      00573 ;       .line   344; "main.c"   time_2ms_flag=0;
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 12


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

0010   3F??           00574         BCF     _flag1,7
0011   0004           00575         clrwdt
                      00576 ;       .line   347; "main.c"   KeyScan();
0012   2???           00577         CALL    _KeyScan
                      00578 ;       .line   348; "main.c"   AdjustGear();           
0013   2???           00579         CALL    _AdjustGear
                      00580 ;       .line   349; "main.c"   batt_test();
0014   2???           00581         CALL    _batt_test
                      00582 ;       .line   350; "main.c"   ChIntput();
0015   2???           00583         CALL    _ChIntput
                      00584 ;       .line   351; "main.c"   SleepMode();
0016   2???           00585         CALL    _SleepMode
0017   2???           00586         GOTO    _00236_DS_
0018   0002           00587         RETURN  
                      00588 ; exit point of _main
                      00589 
                      00590 ;***
                      00591 ;  pBlock Stats: dbName = C
                      00592 ;***
                      00593 ;has an exit
                      00594 ;; Starting pCode block
                      00595 S_main__initValue       code
0000                  00596 _initValue:
                      00597 ; 2 exit points
                      00598 ;;gen.c:6559: size=0, offset=0, AOP_TYPE(res)=8
                      00599 ;       .line   311; "main.c"   flag1.byte_value=0b00000000;
0000   0???           00600         BANKSEL _flag1
0001   18??           00601         CLRF    (_flag1 + 0)
                      00602 ;;gen.c:6559: size=0, offset=0, AOP_TYPE(res)=8
                      00603 ;       .line   312; "main.c"   flag2.byte_value=0b00000000;
0002   0???           00604         BANKSEL _flag2
0003   18??           00605         CLRF    (_flag2 + 0)
                      00606 ;       .line   314; "main.c"   Time_Seep=0;
0004   0???           00607         BANKSEL _Time_Seep
0005   18??           00608         CLRF    _Time_Seep
                      00609 ;       .line   316; "main.c"   Key_Mode=0;
0006   0???           00610         BANKSEL _Key_Mode
0007   18??           00611         CLRF    _Key_Mode
                      00612 ;       .line   317; "main.c"   key_press_time=0;
0008   0???           00613         BANKSEL _key_press_time
0009   18??           00614         CLRF    _key_press_time
                      00615 ;       .line   319; "main.c"   Pwm1_Count=0;
000A   0???           00616         BANKSEL _Pwm1_Count
000B   18??           00617         CLRF    _Pwm1_Count
                      00618 ;       .line   320; "main.c"   Pwm2_Count=50;
000C   0432           00619         MOVLW   0x32
000D   0???           00620         BANKSEL _Pwm2_Count
000E   19??           00621         MOVWF   _Pwm2_Count
                      00622 ;       .line   321; "main.c"   Gear4_temp=0;
000F   0???           00623         BANKSEL _Gear4_temp
0010   18??           00624         CLRF    _Gear4_temp
                      00625 ;       .line   322; "main.c"   Gear=0;
0011   0???           00626         BANKSEL _Gear
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 13


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

0012   18??           00627         CLRF    _Gear
0013   0002           00628         RETURN  
                      00629 ; exit point of _initValue
                      00630 
                      00631 ;***
                      00632 ;  pBlock Stats: dbName = C
                      00633 ;***
                      00634 ;has an exit
                      00635 ;; Starting pCode block
                      00636 S_main__SleepMode       code
0000                  00637 _SleepMode:
                      00638 ; 2 exit points
                      00639 ;       .line   268; "main.c"   Time_Seep++;
0000   0???           00640         BANKSEL _Time_Seep
0001   13??           00641         INCF    _Time_Seep,F
                      00642 ;;swapping arguments (AOP_TYPEs 1/3)
                      00643 ;;unsigned compare: left >= lit(0x33=51), size=1
                      00644 ;       .line   269; "main.c"   if(Time_Seep>50)
0002   0433           00645         MOVLW   0x33
0003   1B??           00646         SUBWF   _Time_Seep,W
0004   3003           00647         BTFSS   STATUS,0
0005   2???           00648         GOTO    _00224_DS_
                      00649 ;;genSkipc:3257: created from rifx:0x782c64
                      00650 ;       .line   271; "main.c"   Time_Seep=0;
0006   18??           00651         CLRF    _Time_Seep
                      00652 ;       .line   272; "main.c"   BLUE=1;
0007   0???           00653         BANKSEL _PORTBbits
0008   3B??           00654         BSF     _PORTBbits,6
                      00655 ;       .line   273; "main.c"   RED=1;
0009   3A??           00656         BSF     _PORTAbits,4
                      00657 ;       .line   274; "main.c"   PWM1=0;
000A   3C??           00658         BCF     _PORTAbits,0
                      00659 ;       .line   275; "main.c"   PWM2=0;
000B   3C??           00660         BCF     _PORTBbits,0
                      00661 ;       .line   277; "main.c"   ADIE=0;
000C   0???           00662         BANKSEL _PIE1bits
000D   3F??           00663         BCF     _PIE1bits,6
                      00664 ;       .line   278; "main.c"   ADEN=0;
000E   0???           00665         BANKSEL _ADCON0bits
000F   3C??           00666         BCF     _ADCON0bits,0
                      00667 ;       .line   279; "main.c"   ADON=0; 
0010   3C??           00668         BCF     _ADCON0bits,1
                      00669 ;       .line   281; "main.c"   PIE1=0X00;                      //关AD中断0100 0000
0011   0???           00670         BANKSEL _PIE1
0012   18??           00671         CLRF    _PIE1
                      00672 ;       .line   282; "main.c"   WDTENS=0;
0013   3E??           00673         BCF     _PCONbits,4
                      00674 ;       .line   283; "main.c"   GIE=0;
0014   0???           00675         BANKSEL _INTCONbits
0015   3F??           00676         BCF     _INTCONbits,7
                      00677 ;       .line   284; "main.c"   T0IE=0;
0016   3E??           00678         BCF     _INTCONbits,5
                      00679 ;       .line   285; "main.c"   RBIE=1;
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 14


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

0017   39??           00680         BSF     _INTCONbits,3
                      00681 ;       .line   286; "main.c"   PEIE=0;
0018   3F??           00682         BCF     _INTCONbits,6
                      00683 ;       .line   287; "main.c"   IOCB3=1;
0019   39??           00684         BSF     _IOCBbits,3
                      00685 ;       .line   288; "main.c"   IOCB5=1;
001A   3A??           00686         BSF     _IOCBbits,5
                      00687 ;       .line   289; "main.c"   INTE=0;
001B   3E??           00688         BCF     _INTCONbits,4
001C   0000           00689         nop
001D   0003           00690         SLEEP
001E   0000           00691         nop
                      00692 ;       .line   293; "main.c"   GIE=1;
001F   0???           00693         BANKSEL _INTCONbits
0020   3B??           00694         BSF     _INTCONbits,7
                      00695 ;       .line   294; "main.c"   IOCB3=0;
0021   3D??           00696         BCF     _IOCBbits,3
                      00697 ;       .line   295; "main.c"   IOCB5=0;
0022   3E??           00698         BCF     _IOCBbits,5
                      00699 ;       .line   296; "main.c"   T0IE=1;
0023   3A??           00700         BSF     _INTCONbits,5
                      00701 ;       .line   297; "main.c"   RBIE=0;
0024   3D??           00702         BCF     _INTCONbits,3
                      00703 ;       .line   298; "main.c"   WDTENS=1;
0025   0???           00704         BANKSEL _PCONbits
0026   3A??           00705         BSF     _PCONbits,4
                      00706 ;       .line   299; "main.c"   PIE1=0X40;                      //使能AD中断0100 0000
0027   0440           00707         MOVLW   0x40
0028   19??           00708         MOVWF   _PIE1
0029                  00709 _00224_DS_:
0029   0002           00710         RETURN  
                      00711 ; exit point of _SleepMode
                      00712 
                      00713 ;***
                      00714 ;  pBlock Stats: dbName = C
                      00715 ;***
                      00716 ;has an exit
                      00717 ;functions called:
                      00718 ;   _adc_get
                      00719 ;   _adc_get
                      00720 ;; Starting pCode block
                      00721 S_main__batt_test       code
0000                  00722 _batt_test:
                      00723 ; 2 exit points
                      00724 ;       .line   248; "main.c"   if(!dc_in && Gear !=0)//  && KeyDisp && !Out_Test)
0000   0???           00725         BANKSEL _PORTBbits
0001   35??           00726         BTFSC   _PORTBbits,3
0002   2???           00727         GOTO    _00203_DS_
0003   0400           00728         MOVLW   0x00
0004   0???           00729         BANKSEL _Gear
0005   1D??           00730         IORWF   _Gear,W
0006   3503           00731         BTFSC   STATUS,2
0007   2???           00732         GOTO    _00203_DS_
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 15


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00733 ;       .line   250; "main.c"   Time_Seep=0;
0008   0???           00734         BANKSEL _Time_Seep
0009   18??           00735         CLRF    _Time_Seep
                      00736 ;       .line   251; "main.c"   adc_get();
000A   2???           00737         CALL    _adc_get
                      00738 ;       .line   252; "main.c"   if(!BattLow)
000B   0???           00739         BANKSEL _flag1
000C   37??           00740         BTFSC   _flag1,6
000D   2???           00741         GOTO    _00203_DS_
                      00742 ;;unsigned compare: left < lit(0x600=1536), size=2
                      00743 ;       .line   254; "main.c"   if(adc_value<0x600)//3V//1536
000E   0406           00744         MOVLW   0x06
000F   0???           00745         BANKSEL _adc_value
0010   1B??           00746         SUBWF   (_adc_value + 1),W
0011   3103           00747         BTFSS   STATUS,2
0012   2???           00748         GOTO    _00217_DS_
0013   0400           00749         MOVLW   0x00
0014   1B??           00750         SUBWF   _adc_value,W
0015                  00751 _00217_DS_:
0015   3403           00752         BTFSC   STATUS,0
0016   2???           00753         GOTO    _00203_DS_
                      00754 ;;genSkipc:3257: created from rifx:0x782c64
                      00755 ;       .line   256; "main.c"   BattLow=1;
0017   0???           00756         BANKSEL _flag1
0018   3B??           00757         BSF     _flag1,6
0019                  00758 _00203_DS_:
0019   0002           00759         RETURN  
                      00760 ; exit point of _batt_test
                      00761 
                      00762 ;***
                      00763 ;  pBlock Stats: dbName = C
                      00764 ;***
                      00765 ;has an exit
                      00766 ;functions called:
                      00767 ;   _adc_get
                      00768 ;   _RedFlash
                      00769 ;   _adc_get
                      00770 ;   _RedFlash
                      00771 ;; Starting pCode block
                      00772 S_main__ChIntput        code
0000                  00773 _ChIntput:
                      00774 ; 2 exit points
                      00775 ;       .line   213; "main.c"   if(dc_in)
0000   0???           00776         BANKSEL _PORTBbits
0001   31??           00777         BTFSS   _PORTBbits,3
0002   2???           00778         GOTO    _00175_DS_
                      00779 ;       .line   215; "main.c"   Time_Seep=0;
0003   0???           00780         BANKSEL _Time_Seep
0004   18??           00781         CLRF    _Time_Seep
                      00782 ;       .line   216; "main.c"   if(!charg_flag)
0005   0???           00783         BANKSEL _flag1
0006   34??           00784         BTFSC   _flag1,0
0007   2???           00785         GOTO    _00168_DS_
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 16


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00786 ;       .line   218; "main.c"   charg_flag=1;
0008   38??           00787         BSF     _flag1,0
                      00788 ;       .line   219; "main.c"   Gear=0;
0009   0???           00789         BANKSEL _Gear
000A   18??           00790         CLRF    _Gear
                      00791 ;       .line   220; "main.c"   BLUE=1;
000B   0???           00792         BANKSEL _PORTBbits
000C   3B??           00793         BSF     _PORTBbits,6
                      00794 ;       .line   221; "main.c"   BattHigh=0;
000D   0???           00795         BANKSEL _flag1
000E   3F??           00796         BCF     _flag1,7
                      00797 ;       .line   222; "main.c"   BattLow=0;
000F   3F??           00798         BCF     _flag1,6
0010                  00799 _00168_DS_:
                      00800 ;       .line   224; "main.c"   adc_get();
0010   2???           00801         CALL    _adc_get
                      00802 ;;swapping arguments (AOP_TYPEs 1/3)
                      00803 ;;unsigned compare: left >= lit(0x85D=2141), size=2
                      00804 ;       .line   225; "main.c"   if(adc_value>0x85c)//4.18V//2140
0011   0408           00805         MOVLW   0x08
0012   0???           00806         BANKSEL _adc_value
0013   1B??           00807         SUBWF   (_adc_value + 1),W
0014   3103           00808         BTFSS   STATUS,2
0015   2???           00809         GOTO    _00191_DS_
0016   045D           00810         MOVLW   0x5d
0017   1B??           00811         SUBWF   _adc_value,W
0018                  00812 _00191_DS_:
0018   3003           00813         BTFSS   STATUS,0
0019   2???           00814         GOTO    _00170_DS_
                      00815 ;;genSkipc:3257: created from rifx:0x782c64
                      00816 ;       .line   227; "main.c"   BattHigh=1;
001A   0???           00817         BANKSEL _flag1
001B   3B??           00818         BSF     _flag1,7
001C                  00819 _00170_DS_:
                      00820 ;       .line   229; "main.c"   if(BattHigh)
001C   0???           00821         BANKSEL _flag1
001D   33??           00822         BTFSS   _flag1,7
001E   2???           00823         GOTO    _00172_DS_
                      00824 ;       .line   231; "main.c"   RedFlash();
001F   2???           00825         CALL    _RedFlash
                      00826 ;       .line   232; "main.c"   red_flash_count_flag=1;
0020   0???           00827         BANKSEL _flag1
0021   38??           00828         BSF     _flag1,0
0022   2???           00829         GOTO    _00177_DS_
0023                  00830 _00172_DS_:
                      00831 ;       .line   236; "main.c"   RED=0;
0023   0???           00832         BANKSEL _PORTAbits
0024   3E??           00833         BCF     _PORTAbits,4
                      00834 ;       .line   237; "main.c"   red_flash_count_flag=0;
0025   0???           00835         BANKSEL _flag1
0026   3C??           00836         BCF     _flag1,0
0027   2???           00837         GOTO    _00177_DS_
0028                  00838 _00175_DS_:
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 17


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00839 ;       .line   242; "main.c"   charg_flag=0;
0028   0???           00840         BANKSEL _flag1
0029   3C??           00841         BCF     _flag1,0
002A                  00842 _00177_DS_:
002A   0002           00843         RETURN  
                      00844 ; exit point of _ChIntput
                      00845 
                      00846 ;***
                      00847 ;  pBlock Stats: dbName = C
                      00848 ;***
                      00849 ;functions called:
                      00850 ;   _RedFlash
                      00851 ;   _RedFlash
                      00852 ;; Starting pCode block
                      00853 S_main__AdjustGear      code
0000                  00854 _AdjustGear:
                      00855 ; 0 exit points
                      00856 ;       .line   167; "main.c"   if(Gear!=0)
0000   0400           00857         MOVLW   0x00
0001   0???           00858         BANKSEL _Gear
0002   1D??           00859         IORWF   _Gear,W
0003   3503           00860         BTFSC   STATUS,2
0004   2???           00861         GOTO    _00151_DS_
                      00862 ;       .line   169; "main.c"   Time_Seep=0;
0005   0???           00863         BANKSEL _Time_Seep
0006   18??           00864         CLRF    _Time_Seep
                      00865 ;       .line   170; "main.c"   if(BattLow)//放电时没电关机
0007   0???           00866         BANKSEL _flag1
0008   33??           00867         BTFSS   _flag1,6
0009   2???           00868         GOTO    _00147_DS_
                      00869 ;       .line   172; "main.c"   BLUE=1;
000A   0???           00870         BANKSEL _PORTBbits
000B   3B??           00871         BSF     _PORTBbits,6
                      00872 ;       .line   174; "main.c"   red_flash_count_flag=1;
000C   0???           00873         BANKSEL _flag1
000D   38??           00874         BSF     _flag1,0
                      00875 ;       .line   175; "main.c"   RedFlash();
000E   2???           00876         CALL    _RedFlash
                      00877 ;;unsigned compare: left < lit(0x78=120), size=1
000F                  00878 _00147_DS_:
                      00879 ;       .line   177; "main.c"   if(Time_500MS>=POWEROFF_TIME)//时间到关机
000F   0478           00880         MOVLW   0x78
0010   0???           00881         BANKSEL _Time_500MS
0011   1B??           00882         SUBWF   _Time_500MS,W
0012   3003           00883         BTFSS   STATUS,0
0013   2???           00884         GOTO    _00151_DS_
                      00885 ;;genSkipc:3257: created from rifx:0x782c64
                      00886 ;       .line   179; "main.c"   BLUE=1;
0014   0???           00887         BANKSEL _PORTBbits
0015   3B??           00888         BSF     _PORTBbits,6
                      00889 ;       .line   180; "main.c"   Gear=0;
0016   0???           00890         BANKSEL _Gear
0017   18??           00891         CLRF    _Gear
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 18


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

0018                  00892 _00151_DS_:
                      00893 ;       .line   183; "main.c"   if(Key_Mode)
0018   0400           00894         MOVLW   0x00
0019   0???           00895         BANKSEL _Key_Mode
001A   1D??           00896         IORWF   _Key_Mode,W
001B   3503           00897         BTFSC   STATUS,2
001C   2???           00898         GOTO    _00002_DS_
                      00899 ;       .line   185; "main.c"   Key_Mode=0;
001D   18??           00900         CLRF    _Key_Mode
                      00901 ;       .line   186; "main.c"   Gear++;
001E   0???           00902         BANKSEL _Gear
001F   13??           00903         INCF    _Gear,F
                      00904 ;       .line   187; "main.c"   if(Gear==5)
0020   11??           00905         MOVF    _Gear,W
                      00906 ;       .line   188; "main.c"   Gear=0;
0021   0D05           00907         XORLW   0x05
                      00908 ;       .line   190; "main.c"   time_2ms=0;
0022   3503           00909         BTFSC   STATUS,2
0023   18??           00910         CLRF    _Gear
0024   0???           00911         BANKSEL _time_2ms
0025   18??           00912         CLRF    _time_2ms
                      00913 ;       .line   191; "main.c"   Time_500MS=0;
0026   0???           00914         BANKSEL _Time_500MS
0027   18??           00915         CLRF    _Time_500MS
                      00916 ;       .line   194; "main.c"   if(Gear==1)
0028   0???           00917         BANKSEL _Gear
0029   11??           00918         MOVF    _Gear,W
002A   0D01           00919         XORLW   0x01
002B   3103           00920         BTFSS   STATUS,2
                      00921 ;       .line   197; "main.c"   if(BattLow==0)
002C   2???           00922         GOTO    _00001_DS_
                      00923 ;       .line   198; "main.c"   BLUE=0;
002D   0???           00924         BANKSEL _flag1
002E   37??           00925         BTFSC   _flag1,6
002F   2???           00926         GOTO    _00001_DS_
                      00927 ;       .line   201; "main.c"   if(Gear==0)
0030   0???           00928         BANKSEL _PORTBbits
0031   3F??           00929         BCF     _PORTBbits,6
0032                  00930 _00001_DS_:
0032   0400           00931         MOVLW   0x00
                      00932 ;       .line   204; "main.c"   BLUE=1;
0033   0???           00933         BANKSEL _Gear
0034   1D??           00934         IORWF   _Gear,W
0035   3103           00935         BTFSS   STATUS,2
0036   2???           00936         GOTO    _00002_DS_
0037   0???           00937         BANKSEL _PORTBbits
0038   3B??           00938         BSF     _PORTBbits,6
0039                  00939 _00002_DS_:
0039   0002           00940         RETURN  
                      00941 
                      00942 ;***
                      00943 ;  pBlock Stats: dbName = C
                      00944 ;***
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 19


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00945 ;has an exit
                      00946 ;1 compiler assigned register :
                      00947 ;   r0x101B
                      00948 ;; Starting pCode block
                      00949 S_main__RedFlash        code
0000                  00950 _RedFlash:
                      00951 ; 2 exit points
                      00952 ;       .line   156; "main.c"   RED=Red_Flash%2;
0000   0401           00953         MOVLW   0x01
0001   0???           00954         BANKSEL _Red_Flash
0002   1C??           00955         ANDWF   _Red_Flash,W
0003   0???           00956         BANKSEL r0x101B
0004   19??           00957         MOVWF   r0x101B
0005   15??           00958         RRF     r0x101B,W
0006   3403           00959         BTFSC   STATUS,0
0007   2???           00960         GOTO    _00003_DS_
0008   0???           00961         BANKSEL _PORTAbits
0009   3E??           00962         BCF     _PORTAbits,4
000A                  00963 _00003_DS_:
000A   3003           00964         BTFSS   STATUS,0
000B   2???           00965         GOTO    _00004_DS_
000C   0???           00966         BANKSEL _PORTAbits
000D   3A??           00967         BSF     _PORTAbits,4
                      00968 ;;unsigned compare: left < lit(0x9=9), size=1
000E                  00969 _00004_DS_:
                      00970 ;       .line   157; "main.c"   if(Red_Flash>=9)
000E   0409           00971         MOVLW   0x09
000F   0???           00972         BANKSEL _Red_Flash
0010   1B??           00973         SUBWF   _Red_Flash,W
0011   3003           00974         BTFSS   STATUS,0
0012   2???           00975         GOTO    _00141_DS_
                      00976 ;;genSkipc:3257: created from rifx:0x782c64
                      00977 ;       .line   159; "main.c"   red_flash_count_flag=0;
0013   0???           00978         BANKSEL _flag1
0014   3C??           00979         BCF     _flag1,0
                      00980 ;       .line   160; "main.c"   Red_Flash=0;
0015   0???           00981         BANKSEL _Red_Flash
0016   18??           00982         CLRF    _Red_Flash
                      00983 ;       .line   161; "main.c"   Gear=0;
0017   0???           00984         BANKSEL _Gear
0018   18??           00985         CLRF    _Gear
0019                  00986 _00141_DS_:
0019   0002           00987         RETURN  
                      00988 ; exit point of _RedFlash
                      00989 
                      00990 ;***
                      00991 ;  pBlock Stats: dbName = C
                      00992 ;***
                      00993 ;has an exit
                      00994 ;; Starting pCode block
                      00995 S_main__KeyScan code
0000                  00996 _KeyScan:
                      00997 ; 2 exit points
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 20


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00998 ;       .line   139; "main.c"   key_press_time++;
0000   0???           00999         BANKSEL _key_press_time
0001   13??           01000         INCF    _key_press_time,F
                      01001 ;       .line   140; "main.c"   if(key)
0002   0???           01002         BANKSEL _PORTBbits
0003   32??           01003         BTFSS   _PORTBbits,5
0004   2???           01004         GOTO    _00130_DS_
                      01005 ;;unsigned compare: left < lit(0x32=50), size=1
                      01006 ;       .line   142; "main.c"   if(key_press_time>=KEY_SHORT_TIME)
0005   0432           01007         MOVLW   0x32
0006   0???           01008         BANKSEL _key_press_time
0007   1B??           01009         SUBWF   _key_press_time,W
0008   3003           01010         BTFSS   STATUS,0
0009   2???           01011         GOTO    _00128_DS_
                      01012 ;;genSkipc:3257: created from rifx:0x782c64
                      01013 ;       .line   143; "main.c"   Key_Mode=1;
000A   0401           01014         MOVLW   0x01
000B   0???           01015         BANKSEL _Key_Mode
000C   19??           01016         MOVWF   _Key_Mode
000D                  01017 _00128_DS_:
                      01018 ;       .line   144; "main.c"   key_press_time=0;
000D   0???           01019         BANKSEL _key_press_time
000E   18??           01020         CLRF    _key_press_time
000F   2???           01021         GOTO    _00131_DS_
0010                  01022 _00130_DS_:
                      01023 ;       .line   148; "main.c"   Time_Seep=0;
0010   0???           01024         BANKSEL _Time_Seep
0011   18??           01025         CLRF    _Time_Seep
                      01026 ;;unsigned compare: left < lit(0xC8=200), size=1
0012                  01027 _00131_DS_:
                      01028 ;       .line   151; "main.c"   if(key_press_time>=200)
0012   04C8           01029         MOVLW   0xc8
0013   0???           01030         BANKSEL _key_press_time
0014   1B??           01031         SUBWF   _key_press_time,W
0015   3003           01032         BTFSS   STATUS,0
0016   2???           01033         GOTO    _00134_DS_
                      01034 ;;genSkipc:3257: created from rifx:0x782c64
                      01035 ;       .line   152; "main.c"   key_press_time=200;
0017   04C8           01036         MOVLW   0xc8
0018   19??           01037         MOVWF   _key_press_time
0019                  01038 _00134_DS_:
0019   0002           01039         RETURN  
                      01040 ; exit point of _KeyScan
                      01041 
                      01042 ;***
                      01043 ;  pBlock Stats: dbName = C
                      01044 ;***
                      01045 ;has an exit
                      01046 ;functions called:
                      01047 ;   _DelayUs2x
                      01048 ;   _DelayUs2x
                      01049 ;   _DelayUs2x
                      01050 ;   _DelayUs2x
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 21


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      01051 ;6 compiler assigned registers:
                      01052 ;   r0x101D
                      01053 ;   r0x101E
                      01054 ;   r0x101F
                      01055 ;   r0x1020
                      01056 ;   r0x1021
                      01057 ;   r0x1022
                      01058 ;; Starting pCode block
                      01059 S_main__adc_get code
0000                  01060 _adc_get:
                      01061 ; 2 exit points
                      01062 ;       .line   105; "main.c"   databuf=0;
0000   0???           01063         BANKSEL _databuf
0001   18??           01064         CLRF    _databuf
0002   18??           01065         CLRF    (_databuf + 1)
                      01066 ;       .line   106; "main.c"   adc_value=0;
0003   0???           01067         BANKSEL _adc_value
0004   18??           01068         CLRF    _adc_value
0005   18??           01069         CLRF    (_adc_value + 1)
                      01070 ;       .line   113; "main.c"   ADCON1=0b01010000;      //ADC数据存放格式选,ADC所采集数据，当选择存格式
                            左对齐时，ADC精度只能为12位
0006   0450           01071         MOVLW   0x50
0007   0???           01072         BANKSEL _ADCON1
0008   19??           01073         MOVWF   _ADCON1
                      01074 ;       .line   114; "main.c"   ADCKCS= 0x00;
0009   18??           01075         CLRF    _ADCKCS
                      01076 ;       .line   115; "main.c"   ADCON0=0b00010101;      //参考电压选择内部2V，通道选择3，启动ADEN
000A   0415           01077         MOVLW   0x15
000B   0???           01078         BANKSEL _ADCON0
000C   19??           01079         MOVWF   _ADCON0
                      01080 ;       .line   117; "main.c"   for(b=0;b<16;b++)
000D   0???           01081         BANKSEL r0x101D
000E   18??           01082         CLRF    r0x101D
000F                  01083 _00122_DS_:
                      01084 ;       .line   119; "main.c"   DelayUs2x(35);          //等待ADC稳定
000F   0423           01085         MOVLW   0x23
0010   2???           01086         CALL    _DelayUs2x
                      01087 ;       .line   120; "main.c"   ADON=1; //启动ADON                      
0011   0???           01088         BANKSEL _ADCON0bits
0012   38??           01089         BSF     _ADCON0bits,1
                      01090 ;       .line   122; "main.c"   DelayUs2x(35);          //等待ADC稳定
0013   0423           01091         MOVLW   0x23
0014   2???           01092         CALL    _DelayUs2x
0015                  01093 _00118_DS_:
                      01094 ;       .line   124; "main.c"   while(ADON!=0);
0015   0???           01095         BANKSEL _ADCON0bits
0016   34??           01096         BTFSC   _ADCON0bits,1
0017   2???           01097         GOTO    _00118_DS_
                      01098 ;       .line   127; "main.c"   databuf=ADRESH;
0018   11??           01099         MOVF    _ADRESH,W
0019   0???           01100         BANKSEL _databuf
001A   19??           01101         MOVWF   _databuf
001B   18??           01102         CLRF    (_databuf + 1)
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 22


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      01103 ;       .line   128; "main.c"   databuf=(databuf<<4)|(ADRESL>>4);
001C   17??           01104         SWAPF   (_databuf + 1),W
001D   0EF0           01105         ANDLW   0xf0
001E   0???           01106         BANKSEL r0x101E
001F   19??           01107         MOVWF   r0x101E
0020   0???           01108         BANKSEL _databuf
0021   17??           01109         SWAPF   _databuf,W
0022   0???           01110         BANKSEL r0x101F
0023   19??           01111         MOVWF   r0x101F
0024   0E0F           01112         ANDLW   0x0f
0025   1D??           01113         IORWF   r0x101E,F
0026   1F??           01114         XORWF   r0x101F,F
0027   0???           01115         BANKSEL _ADRESL
0028   17??           01116         SWAPF   _ADRESL,W
0029   0E0F           01117         ANDLW   0x0f
                      01118 ;;1     MOVWF   r0x1020
002A   0???           01119         BANKSEL r0x1021
002B   19??           01120         MOVWF   r0x1021
002C   1D??           01121         IORWF   r0x101F,W
002D   0???           01122         BANKSEL _databuf
002E   19??           01123         MOVWF   _databuf
002F   0???           01124         BANKSEL r0x101E
0030   11??           01125         MOVF    r0x101E,W
0031   0???           01126         BANKSEL _databuf
0032   19??           01127         MOVWF   (_databuf + 1)
                      01128 ;       .line   129; "main.c"   adc_value=databuf+adc_value;
0033   0???           01129         BANKSEL _adc_value
0034   11??           01130         MOVF    _adc_value,W
0035   0???           01131         BANKSEL _databuf
0036   1E??           01132         ADDWF   _databuf,W
0037   0???           01133         BANKSEL _adc_value
0038   19??           01134         MOVWF   _adc_value
0039   0???           01135         BANKSEL _databuf
003A   11??           01136         MOVF    (_databuf + 1),W
003B   3403           01137         BTFSC   STATUS,0
003C   13??           01138         INCF    (_databuf + 1),W
003D   3503           01139         BTFSC   STATUS,2
003E   2???           01140         GOTO    _00005_DS_
003F   0???           01141         BANKSEL _adc_value
0040   1E??           01142         ADDWF   (_adc_value + 1),F
0041                  01143 _00005_DS_:
                      01144 ;       .line   130; "main.c"   databuf=0;
0041   0???           01145         BANKSEL _databuf
0042   18??           01146         CLRF    _databuf
0043   18??           01147         CLRF    (_databuf + 1)
                      01148 ;       .line   117; "main.c"   for(b=0;b<16;b++)
0044   0???           01149         BANKSEL r0x101D
0045   13??           01150         INCF    r0x101D,F
                      01151 ;;unsigned compare: left < lit(0x10=16), size=1
0046   0410           01152         MOVLW   0x10
0047   1B??           01153         SUBWF   r0x101D,W
0048   3003           01154         BTFSS   STATUS,0
0049   2???           01155         GOTO    _00122_DS_
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 23


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      01156 ;;genSkipc:3257: created from rifx:0x782c64
                      01157 ;       .line   132; "main.c"   adc_value=adc_value>>4;                                 //平均值
004A   0???           01158         BANKSEL _adc_value
004B   17??           01159         SWAPF   _adc_value,W
004C   0E0F           01160         ANDLW   0x0f
004D   19??           01161         MOVWF   _adc_value
004E   17??           01162         SWAPF   (_adc_value + 1),W
004F   19??           01163         MOVWF   (_adc_value + 1)
0050   0EF0           01164         ANDLW   0xf0
0051   1D??           01165         IORWF   _adc_value,F
0052   1F??           01166         XORWF   (_adc_value + 1),F
                      01167 ;       .line   133; "main.c"   ADCON0=0x00;
0053   0???           01168         BANKSEL _ADCON0
0054   18??           01169         CLRF    _ADCON0
0055   0002           01170         RETURN  
                      01171 ; exit point of _adc_get
                      01172 
                      01173 ;***
                      01174 ;  pBlock Stats: dbName = C
                      01175 ;***
                      01176 ;has an exit
                      01177 ;functions called:
                      01178 ;   _DelayUs2x
                      01179 ;   _DelayUs2x
                      01180 ;   _DelayUs2x
                      01181 ;   _DelayUs2x
                      01182 ;5 compiler assigned registers:
                      01183 ;   r0x101D
                      01184 ;   STK00
                      01185 ;   r0x101E
                      01186 ;   r0x101F
                      01187 ;   r0x1020
                      01188 ;; Starting pCode block
                      01189 S_main__DelayMs code
0000                  01190 _DelayMs:
                      01191 ; 2 exit points
                      01192 ;       .line   82; "main.c"    void DelayMs(unsigned int t)
0000   0???           01193         BANKSEL r0x101D
0001   19??           01194         MOVWF   r0x101D
0002   11??           01195         MOVF    STK00,W
0003   19??           01196         MOVWF   r0x101E
0004                  01197 _00110_DS_:
                      01198 ;       .line   85; "main.c"    while(t--)
0004   0???           01199         BANKSEL r0x101E
0005   11??           01200         MOVF    r0x101E,W
0006   19??           01201         MOVWF   r0x101F
0007   11??           01202         MOVF    r0x101D,W
0008   19??           01203         MOVWF   r0x1020
0009   04FF           01204         MOVLW   0xff
000A   1E??           01205         ADDWF   r0x101E,F
000B   3003           01206         BTFSS   STATUS,0
000C   1A??           01207         DECF    r0x101D,F
000D   11??           01208         MOVF    r0x101F,W
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 24


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

000E   1D??           01209         IORWF   r0x1020,W
000F   3503           01210         BTFSC   STATUS,2
0010   2???           01211         GOTO    _00113_DS_
                      01212 ;       .line   88; "main.c"    DelayUs2x(120);
0011   0478           01213         MOVLW   0x78
0012   2???           01214         CALL    _DelayUs2x
                      01215 ;       .line   89; "main.c"    DelayUs2x(125);
0013   047D           01216         MOVLW   0x7d
0014   2???           01217         CALL    _DelayUs2x
0015   2???           01218         GOTO    _00110_DS_
0016                  01219 _00113_DS_:
0016   0002           01220         RETURN  
                      01221 ; exit point of _DelayMs
                      01222 
                      01223 ;***
                      01224 ;  pBlock Stats: dbName = C
                      01225 ;***
                      01226 ;has an exit
                      01227 ;2 compiler assigned registers:
                      01228 ;   r0x101B
                      01229 ;   r0x101C
                      01230 ;; Starting pCode block
                      01231 S_main__DelayUs2x       code
0000                  01232 _DelayUs2x:
                      01233 ; 2 exit points
                      01234 ;       .line   73; "main.c"    void DelayUs2x(unsigned char t)
0000   0???           01235         BANKSEL r0x101B
0001   19??           01236         MOVWF   r0x101B
0002                  01237 _00105_DS_:
                      01238 ;       .line   75; "main.c"    while(--t);
0002   0???           01239         BANKSEL r0x101B
0003   1A??           01240         DECF    r0x101B,W
0004   19??           01241         MOVWF   r0x101C
0005   19??           01242         MOVWF   r0x101B
0006   11??           01243         MOVF    r0x101C,W
0007   3103           01244         BTFSS   STATUS,2
0008   2???           01245         GOTO    _00105_DS_
0009   0002           01246         RETURN  
                      01247 ; exit point of _DelayUs2x
                      01248 
                      01249 
                      01250 ;       code size estimation:
                      01251 ;         412+  141 =   553 instructions ( 1388 byte)
                      01252 
                      01253         end
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 25


SYMBOL TABLE
  LABEL                              TYPE        VALUE         VALUE          VALUE
                                                 (hex)         (dec)          (text)

ADCKCS                            CONSTANT      00000087            135
ADCKCS0                           CONSTANT      00000000              0
ADCKCS1                           CONSTANT      00000001              1
ADCKCS2                           CONSTANT      00000002              2
ADCON0                            CONSTANT      0000001F             31
ADCON1                            CONSTANT      0000009F            159
ADCS0                             CONSTANT      00000004              4
ADCS1                             CONSTANT      00000005              5
ADCS2                             CONSTANT      00000006              6
ADEN                              CONSTANT      00000000              0
ADFM                              CONSTANT      00000007              7
ADIE                              CONSTANT      00000006              6
ADIF                              CONSTANT      00000006              6
ADON                              CONSTANT      00000001              1
ADREF                             CONSTANT      00000000              0
ADRESH                            CONSTANT      0000001E             30
ADRESL                            CONSTANT      0000009E            158
ANSEL                             CONSTANT      0000009D            157
ANSEL0                            CONSTANT      00000000              0
ANSEL1                            CONSTANT      00000001              1
ANSEL2                            CONSTANT      00000002              2
ANSEL3                            CONSTANT      00000003              3
ANSEL4                            CONSTANT      00000004              4
ANSEL6                            CONSTANT      00000006              6
ANSEL7                            CONSTANT      00000007              7
BOR                               CONSTANT      00000000              0
C                                 CONSTANT      00000000              0
CCP1CON                           CONSTANT      00000017             23
CCP1IE                            CONSTANT      00000002              2
CCP1IF                            CONSTANT      00000002              2
CCP1M0                            CONSTANT      00000000              0
CCP1M1                            CONSTANT      00000001              1
CCP1M2                            CONSTANT      00000002              2
CCP1M3                            CONSTANT      00000003              3
CCP2CON                           CONSTANT      0000001D             29
CCP2IE                            CONSTANT      00000000              0
CCP2IF                            CONSTANT      00000000              0
CCP2M0                            CONSTANT      00000000              0
CCP2M1                            CONSTANT      00000001              1
CCP2M2                            CONSTANT      00000002              2
CCP2M3                            CONSTANT      00000003              3
CCPR1H                            CONSTANT      00000016             22
CCPR1L                            CONSTANT      00000015             21
CCPR2H                            CONSTANT      0000001C             28
CCPR2L                            CONSTANT      0000001B             27
CHS0                              CONSTANT      00000002              2
CHS1                              CONSTANT      00000003              3
CHS2                              CONSTANT      00000004              4
DC                                CONSTANT      00000001              1
DC1B0                             CONSTANT      00000004              4
DC1B1                             CONSTANT      00000005              5
DC2B0                             CONSTANT      00000004              4
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 26


SYMBOL TABLE
  LABEL                              TYPE        VALUE         VALUE          VALUE
                                                 (hex)         (dec)          (text)

DC2B1                             CONSTANT      00000005              5
END_OF_INTERRUPT                  ADDRESS       000000AF            175
F                                 CONSTANT      00000001              1
FSR                               CONSTANT      00000004              4
GIE                               CONSTANT      00000007              7
HXEN                              CONSTANT      00000001              1
INDF                              CONSTANT      00000000              0
INTCON                            CONSTANT      0000000B             11
INTE                              CONSTANT      00000004              4
INTEDG                            CONSTANT      00000006              6
INTF                              CONSTANT      00000001              1
IOCB                              CONSTANT      00000014             20
IOCB0                             CONSTANT      00000000              0
IOCB1                             CONSTANT      00000001              1
IOCB2                             CONSTANT      00000002              2
IOCB3                             CONSTANT      00000003              3
IOCB5                             CONSTANT      00000005              5
IOCB6                             CONSTANT      00000006              6
IOCB7                             CONSTANT      00000007              7
IRP                               CONSTANT      00000007              7
LVD1EN                            CONSTANT      00000006              6
LVD1F                             CONSTANT      00000002              2
LVD2EN                            CONSTANT      00000007              7
LVD2F                             CONSTANT      00000003              3
OPTION                            CONSTANT      00000081            129
OSCCON                            CONSTANT      00000090            144
PCL                               CONSTANT      00000002              2
PCLATH                            CONSTANT      0000000A             10
PCON                              CONSTANT      0000008E            142
PD                                CONSTANT      00000003              3
PEIE                              CONSTANT      00000006              6
PIE1                              CONSTANT      0000008C            140
PIE2                              CONSTANT      0000008D            141
PIR1                              CONSTANT      0000000C             12
PIR2                              CONSTANT      0000000D             13
PMADRH                            CONSTANT      00000097            151
PMADRL                            CONSTANT      00000096            150
PMCON                             CONSTANT      00000098            152
PMDATH                            CONSTANT      00000095            149
PMDATL                            CONSTANT      00000094            148
POR                               CONSTANT      00000001              1
PORTA                             CONSTANT      00000005              5
PORTA0                            CONSTANT      00000000              0
PORTA1                            CONSTANT      00000001              1
PORTA2                            CONSTANT      00000002              2
PORTA3                            CONSTANT      00000003              3
PORTA4                            CONSTANT      00000004              4
PORTA5                            CONSTANT      00000005              5
PORTA6                            CONSTANT      00000006              6
PORTA7                            CONSTANT      00000007              7
PORTB                             CONSTANT      00000006              6
PORTB0                            CONSTANT      00000000              0
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 27


SYMBOL TABLE
  LABEL                              TYPE        VALUE         VALUE          VALUE
                                                 (hex)         (dec)          (text)

PORTB1                            CONSTANT      00000001              1
PORTB2                            CONSTANT      00000002              2
PORTB3                            CONSTANT      00000003              3
PORTB4                            CONSTANT      00000004              4
PORTB5                            CONSTANT      00000005              5
PORTB6                            CONSTANT      00000006              6
PORTB7                            CONSTANT      00000007              7
PR1CON                            CONSTANT      00000019             25
PR1EN                             CONSTANT      00000000              0
PR1L                              CONSTANT      00000018             24
PR2                               CONSTANT      00000092            146
PS0                               CONSTANT      00000000              0
PS1                               CONSTANT      00000001              1
PS2                               CONSTANT      00000002              2
PSA                               CONSTANT      00000003              3
PSAVE                             GLOBAL        00000040             64
PWM1T0                            CONSTANT      00000006              6
PWM1T1                            CONSTANT      00000007              7
PWM2T0                            CONSTANT      00000004              4
PWM2T1                            CONSTANT      00000005              5
PWMPR1                            CONSTANT      00000001              1
RBIE                              CONSTANT      00000003              3
RBIF                              CONSTANT      00000000              0
RBPUB                             CONSTANT      00000007              7
RDON                              CONSTANT      00000000              0
RP0                               CONSTANT      00000005              5
RP1                               CONSTANT      00000006              6
SCS                               CONSTANT      00000000              0
SSAVE                             GLOBAL        00000041             65
STATUS                            CONSTANT      00000003              3
STK00                             GLOBAL        0000004F             79
STK01                             GLOBAL        0000004E             78
STK02                             GLOBAL        0000004D             77
STK03                             GLOBAL        0000004C             76
STK04                             GLOBAL        0000004B             75
STK05                             GLOBAL        0000004A             74
STK06                             GLOBAL        00000049             73
STK07                             GLOBAL        00000048             72
STK08                             GLOBAL        00000047             71
STK09                             GLOBAL        00000046             70
STK10                             GLOBAL        00000045             69
STK11                             GLOBAL        00000044             68
STK12                             GLOBAL        00000043             67
T0                                CONSTANT      00000001              1
T0CS                              CONSTANT      00000005              5
T0IE                              CONSTANT      00000005              5
T0IF                              CONSTANT      00000002              2
T0OSCEN                           CONSTANT      00000007              7
T0SE                              CONSTANT      00000004              4
T1CKPS0                           CONSTANT      00000004              4
T1CKPS1                           CONSTANT      00000005              5
T1CKPS2                           CONSTANT      00000002              2
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 28


SYMBOL TABLE
  LABEL                              TYPE        VALUE         VALUE          VALUE
                                                 (hex)         (dec)          (text)

T1CKPS3                           CONSTANT      00000003              3
T1CON                             CONSTANT      00000010             16
T1CS0                             CONSTANT      00000006              6
T1CS1                             CONSTANT      00000007              7
T1GCON                            CONSTANT      0000008F            143
T1GEN                             CONSTANT      00000007              7
T1GIE                             CONSTANT      00000007              7
T1GIF                             CONSTANT      00000007              7
T1GON                             CONSTANT      00000003              3
T1GPOL                            CONSTANT      00000006              6
T1GSPM                            CONSTANT      00000004              4
T1GSS0                            CONSTANT      00000000              0
T1GSS1                            CONSTANT      00000001              1
T1GTM                             CONSTANT      00000005              5
T1GVAL                            CONSTANT      00000002              2
T1H                               CONSTANT      0000000F             15
T1IE                              CONSTANT      00000000              0
T1IF                              CONSTANT      00000000              0
T1L                               CONSTANT      0000000E             14
T1ON                              CONSTANT      00000000              0
T1OSCEN                           CONSTANT      00000003              3
T1SYNC                            CONSTANT      00000002              2
T2                                CONSTANT      00000011             17
T2CKPS0                           CONSTANT      00000003              3
T2CKPS1                           CONSTANT      00000004              4
T2CKPS2                           CONSTANT      00000005              5
T2CKPS3                           CONSTANT      00000006              6
T2CON                             CONSTANT      00000012             18
T2IE                              CONSTANT      00000001              1
T2IF                              CONSTANT      00000001              1
T2ON                              CONSTANT      00000002              2
TO                                CONSTANT      00000004              4
TRISA                             CONSTANT      00000085            133
TRISA0                            CONSTANT      00000000              0
TRISA1                            CONSTANT      00000001              1
TRISA2                            CONSTANT      00000002              2
TRISA3                            CONSTANT      00000003              3
TRISA4                            CONSTANT      00000004              4
TRISA5                            CONSTANT      00000005              5
TRISA6                            CONSTANT      00000006              6
TRISA7                            CONSTANT      00000007              7
TRISB                             CONSTANT      00000086            134
TRISB0                            CONSTANT      00000000              0
TRISB1                            CONSTANT      00000001              1
TRISB2                            CONSTANT      00000002              2
TRISB3                            CONSTANT      00000003              3
TRISB4                            CONSTANT      00000004              4
TRISB5                            CONSTANT      00000005              5
TRISB6                            CONSTANT      00000006              6
TRISB7                            CONSTANT      00000007              7
VHS0                              CONSTANT      00000005              5
VHS1                              CONSTANT      00000006              6
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 29


SYMBOL TABLE
  LABEL                              TYPE        VALUE         VALUE          VALUE
                                                 (hex)         (dec)          (text)

W                                 CONSTANT      00000000              0
WDTENS                            CONSTANT      00000004              4
WPUA                              CONSTANT      00000093            147
WPUA0                             CONSTANT      00000000              0
WPUA1                             CONSTANT      00000001              1
WPUA2                             CONSTANT      00000002              2
WPUA3                             CONSTANT      00000003              3
WPUA4                             CONSTANT      00000004              4
WPUA6                             CONSTANT      00000006              6
WPUA7                             CONSTANT      00000007              7
WPUB                              CONSTANT      00000013             19
WPUB0                             CONSTANT      00000000              0
WPUB1                             CONSTANT      00000001              1
WPUB2                             CONSTANT      00000002              2
WPUB3                             CONSTANT      00000003              3
WPUB6                             CONSTANT      00000006              6
WPUB7                             CONSTANT      00000007              7
WSAVE                             GLOBAL        00000042             66
Z                                 CONSTANT      00000002              2
_00001_DS_                        ADDRESS       00000032             50
_00002_DS_                        ADDRESS       00000039             57
_00003_DS_                        ADDRESS       0000000A             10
_00004_DS_                        ADDRESS       0000000E             14
_00005_DS_                        ADDRESS       00000041             65
_00105_DS_                        ADDRESS       00000002              2
_00110_DS_                        ADDRESS       00000004              4
_00113_DS_                        ADDRESS       00000016             22
_00118_DS_                        ADDRESS       00000015             21
_00122_DS_                        ADDRESS       0000000F             15
_00128_DS_                        ADDRESS       0000000D             13
_00130_DS_                        ADDRESS       00000010             16
_00131_DS_                        ADDRESS       00000012             18
_00134_DS_                        ADDRESS       00000019             25
_00141_DS_                        ADDRESS       00000019             25
_00147_DS_                        ADDRESS       0000000F             15
_00151_DS_                        ADDRESS       00000018             24
_00168_DS_                        ADDRESS       00000010             16
_00170_DS_                        ADDRESS       0000001C             28
_00172_DS_                        ADDRESS       00000023             35
_00175_DS_                        ADDRESS       00000028             40
_00177_DS_                        ADDRESS       0000002A             42
_00191_DS_                        ADDRESS       00000018             24
_00203_DS_                        ADDRESS       00000019             25
_00217_DS_                        ADDRESS       00000015             21
_00224_DS_                        ADDRESS       00000029             41
_00236_DS_                        ADDRESS       0000000D             13
_00242_DS_                        ADDRESS       00000014             20
_00248_DS_                        ADDRESS       00000040             64
_00249_DS_                        ADDRESS       00000042             66
_00253_DS_                        ADDRESS       00000063             99
_00256_DS_                        ADDRESS       00000065            101
_00258_DS_                        ADDRESS       0000007A            122
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 30


SYMBOL TABLE
  LABEL                              TYPE        VALUE         VALUE          VALUE
                                                 (hex)         (dec)          (text)

_00261_DS_                        ADDRESS       0000007C            124
_00267_DS_                        ADDRESS       0000009C            156
_00270_DS_                        ADDRESS       00000093            147
_00273_DS_                        ADDRESS       0000008A            138
_00277_DS_                        ADDRESS       000000A4            164
_ADCKCS                           EXTERNAL      00000000              0
_ADCKCSbits                       EXTERNAL      00000000              0
_ADCON0                           EXTERNAL      00000000              0
_ADCON0bits                       EXTERNAL      00000000              0
_ADCON1                           EXTERNAL      00000000              0
_ADCON1bits                       EXTERNAL      00000000              0
_ADRESH                           EXTERNAL      00000000              0
_ADRESL                           EXTERNAL      00000000              0
_ANSEL                            EXTERNAL      00000000              0
_ANSELbits                        EXTERNAL      00000000              0
_AdjustGear                       GLOBAL        00000000              0
_CCP1CON                          EXTERNAL      00000000              0
_CCP1CONbits                      EXTERNAL      00000000              0
_CCP2CON                          EXTERNAL      00000000              0
_CCP2CONbits                      EXTERNAL      00000000              0
_CCPR1H                           EXTERNAL      00000000              0
_CCPR1L                           EXTERNAL      00000000              0
_CCPR2H                           EXTERNAL      00000000              0
_CCPR2L                           EXTERNAL      00000000              0
_CONFIG                           CONSTANT      00002000           8192
_CP_OFF                           CONSTANT      00003FFF          16383
_CP_ON                            CONSTANT      00003FEF          16367
_ChIntput                         GLOBAL        00000000              0
_DelayMs                          GLOBAL        00000000              0
_DelayUs2x                        GLOBAL        00000000              0
_FOSC_HS                          CONSTANT      00003FFD          16381
_FOSC_INTRCIO                     CONSTANT      00003FFC          16380
_FOSC_LP                          CONSTANT      00003CFF          15615
_FOSC_XT                          CONSTANT      00003DFF          15871
_FSR                              EXTERNAL      00000000              0
_Gear                             GLOBAL        00000000              0
_Gear4_temp                       GLOBAL        00000000              0
_HS_OSC                           CONSTANT      00003FFD          16381
_INDF                             EXTERNAL      00000000              0
_INTCON                           EXTERNAL      00000000              0
_INTCONbits                       EXTERNAL      00000000              0
_INTOSCIO                         CONSTANT      00003FFC          16380
_INTRC_OSC_NOCLKOUT               CONSTANT      00003FFC          16380
_IOCB                             EXTERNAL      00000000              0
_IOCBbits                         EXTERNAL      00000000              0
_Intr                             GLOBAL        00000004              4
_KeyScan                          GLOBAL        00000000              0
_Key_Mode                         GLOBAL        00000000              0
_LP_OSC                           CONSTANT      00003CFF          15615
_OPTION                           EXTERNAL      00000000              0
_OPTIONbits                       EXTERNAL      00000000              0
_OSCCON                           EXTERNAL      00000000              0
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 31


SYMBOL TABLE
  LABEL                              TYPE        VALUE         VALUE          VALUE
                                                 (hex)         (dec)          (text)

_OSCCONbits                       EXTERNAL      00000000              0
_PCL                              EXTERNAL      00000000              0
_PCLATH                           EXTERNAL      00000000              0
_PCON                             EXTERNAL      00000000              0
_PCONbits                         EXTERNAL      00000000              0
_PIE1                             EXTERNAL      00000000              0
_PIE1bits                         EXTERNAL      00000000              0
_PIE2                             EXTERNAL      00000000              0
_PIE2bits                         EXTERNAL      00000000              0
_PIR1                             EXTERNAL      00000000              0
_PIR1bits                         EXTERNAL      00000000              0
_PIR2                             EXTERNAL      00000000              0
_PIR2bits                         EXTERNAL      00000000              0
_PMADRH                           EXTERNAL      00000000              0
_PMADRL                           EXTERNAL      00000000              0
_PMCON                            EXTERNAL      00000000              0
_PMCONbits                        EXTERNAL      00000000              0
_PMDATH                           EXTERNAL      00000000              0
_PMDATL                           EXTERNAL      00000000              0
_PORTA                            EXTERNAL      00000000              0
_PORTAbits                        EXTERNAL      00000000              0
_PORTB                            EXTERNAL      00000000              0
_PORTBbits                        EXTERNAL      00000000              0
_PR1CON                           EXTERNAL      00000000              0
_PR1CONbits                       EXTERNAL      00000000              0
_PR1L                             EXTERNAL      00000000              0
_PR2                              EXTERNAL      00000000              0
_Pwm1_Count                       GLOBAL        00000000              0
_Pwm1_Duty_Ratio                  GLOBAL        00000000              0
_Pwm2_Count                       GLOBAL        00000000              0
_Pwm2_Duty_Ratio                  GLOBAL        00000000              0
_RedFlash                         GLOBAL        00000000              0
_Red_Flash                        GLOBAL        00000000              0
_STATUS                           EXTERNAL      00000000              0
_STATUSbits                       EXTERNAL      00000000              0
_SleepMode                        GLOBAL        00000000              0
_T0                               EXTERNAL      00000000              0
_T1CON                            EXTERNAL      00000000              0
_T1CONbits                        EXTERNAL      00000000              0
_T1GCON                           EXTERNAL      00000000              0
_T1GCONbits                       EXTERNAL      00000000              0
_T1H                              EXTERNAL      00000000              0
_T1L                              EXTERNAL      00000000              0
_T2                               EXTERNAL      00000000              0
_T2CON                            EXTERNAL      00000000              0
_T2CONbits                        EXTERNAL      00000000              0
_TRISA                            EXTERNAL      00000000              0
_TRISAbits                        EXTERNAL      00000000              0
_TRISB                            EXTERNAL      00000000              0
_TRISBbits                        EXTERNAL      00000000              0
_Time_500MS                       GLOBAL        00000000              0
_Time_Seep                        GLOBAL        00000000              0
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 32


SYMBOL TABLE
  LABEL                              TYPE        VALUE         VALUE          VALUE
                                                 (hex)         (dec)          (text)

_WDTE_OFF                         CONSTANT      00003FFB          16379
_WDTE_ON                          CONSTANT      00003FFF          16383
_WDT_OFF                          CONSTANT      00003FFB          16379
_WDT_ON                           CONSTANT      00003FFF          16383
_WPUA                             EXTERNAL      00000000              0
_WPUAbits                         EXTERNAL      00000000              0
_WPUB                             EXTERNAL      00000000              0
_WPUBbits                         EXTERNAL      00000000              0
_XT_OSC                           CONSTANT      00003DFF          15871
__14_BIT                          CONSTANT      00000001              1
__18P110L                         CONSTANT      00000001              1
__ACTIVE_BANK_ADDR                VARIABLE      FFFFFFFF             -1
__ACTIVE_PAGE_ADDR                VARIABLE      FFFFFFFF             -1
__ASSUMED_BANK_ADDR               VARIABLE      FFFFFFFF             -1
__BANK_0                          CONSTANT      00000000              0
__BANK_1                          CONSTANT      00000080            128
__BANK_BITS                       CONSTANT      00000080            128
__BANK_FIRST                      CONSTANT      00000000              0
__BANK_INV                        CONSTANT      FFFFFFFF             -1
__BANK_LAST                       CONSTANT      00000080            128
__BANK_MASK                       CONSTANT      0000007F            127
__BANK_SHIFT                      CONSTANT      00000007              7
__BANK_SIZE                       CONSTANT      00000080            128
__CODE_END                        CONSTANT      000003FF           1023
__CODE_START                      CONSTANT      00000000              0
__COMMON_RAM_END                  CONSTANT      0000007F            127
__COMMON_RAM_START                CONSTANT      00000040             64
__CONFIG_END                      CONSTANT      00002001           8193
__CONFIG_START                    CONSTANT      00002000           8192
__GPUTILS_SVN_VERSION             CONSTANT      00000504           1284
__GPUTILS_VERSION_MAJOR           CONSTANT      00000001              1
__GPUTILS_VERSION_MICRO           CONSTANT      00000000              0
__GPUTILS_VERSION_MINOR           CONSTANT      00000005              5
__IDLOCS_END                      CONSTANT      00002005           8197
__IDLOCS_START                    CONSTANT      00002004           8196
__NUM_BANKS                       CONSTANT      00000002              2
__PAGE_BITS                       CONSTANT      00001800           6144
__PAGE_INV                        CONSTANT      FFFFFFFF             -1
__PAGE_MASK                       CONSTANT      00000000              0
__PAGE_SHIFT                      CONSTANT      0000000B             11
__PAGE_SIZE                       CONSTANT      00000000              0
__VECTOR_INT                      CONSTANT      00000004              4
__VECTOR_RESET                    CONSTANT      00000000              0
__WHILE_LOOP_COUNT_MAX            CONSTANT      000000FF            255
___sdcc_saved_fsr                 EXTERNAL      00000000              0
__sdcc_gsinit_startup             EXTERNAL      00000000              0
__sdcc_interrupt                  ADDRESS       00000004              4
_adc_get                          GLOBAL        00000000              0
_adc_value                        GLOBAL        00000000              0
_batt_test                        GLOBAL        00000000              0
_databuf                          GLOBAL        00000000              0
_flag1                            GLOBAL        00000000              0
gpasm-1.5.0 #1284 (Nov  8 2021)      main.asm   02/25/22  18:07:22          PAGE 33


SYMBOL TABLE
  LABEL                              TYPE        VALUE         VALUE          VALUE
                                                 (hex)         (dec)          (text)

_flag2                            GLOBAL        00000000              0
_initValue                        GLOBAL        00000000              0
_inital                           EXTERNAL      00000000              0
_key_press_time                   GLOBAL        00000000              0
_main                             GLOBAL        00000000              0
_sysinitial                       EXTERNAL      00000000              0
_time_2ms                         GLOBAL        00000000              0
r0x101B                           STATIC        00000000              0
r0x101C                           STATIC        00000001              1
r0x101D                           STATIC        00000003              3
r0x101E                           STATIC        00000002              2
r0x101F                           STATIC        00000004              4
r0x1020                           STATIC        00000005              5
r0x1021                           STATIC        00000006              6
r0x1023                           STATIC        00000007              7
r0x1024                           STATIC        00000008              8
r0x1025                           STATIC        00000009              9

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

